
const hre = require("hardhat");

async function main() {
    console.log("Deploying Real Proof Verifier to Sepolia...");
    
    const Verifier = await hre.ethers.getContractFactory("contracts/RealProofOfProofVerifier.sol:Groth16Verifier");
    const verifier = await Verifier.deploy();
    await verifier.deployed();
    
    console.log("RealProofOfProofVerifier deployed to:", verifier.address);
    
    // Verify the proof
    console.log("\nVerifying KYC proof...");
    const result = await verifier.verifyProof(
        ["17448579428011680308843565398968585386338465642628901714908512659427823242397","13650413943004925241432946151465185838695541366283428340888641728277396491413"],
        [["21638710014099597228828375264333906042608019447072778042682042385684392956645","1024164701991340613864351052357037294563510577795321535517202421837327851832"],["14311686171086127149236666556358886163339863787019571783966338305083512269506","1762479965446622238623676238599453372231909969065734077936807312378883261889"]],
        ["8287574375266737032437902556454277226334895028266128163995120590069293210409","13359884323677653720258485353626265909143739068256413812282679322864708728995"],
        ["17642062985293407986215170688001621156485767732106975739066346399609420560556","1","19111197786344874140976041921207670147795837494645083100567812880793765699104","1","1752374895","393497521552106548350714323930204177612837651565002120965772774848898627216"]
    );
    
    console.log("Verification result:", result);
}

main().catch((error) => {
    console.error(error);
    process.exitCode = 1;
});

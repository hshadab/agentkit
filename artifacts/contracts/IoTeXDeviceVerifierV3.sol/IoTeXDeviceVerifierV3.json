{
  "_format": "hh-sol-artifact-1",
  "contractName": "IoTeXDeviceVerifierV3",
  "sourceName": "contracts/IoTeXDeviceVerifierV3.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_novaDecider",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "deviceId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "DeviceRegistered",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "newDecider",
          "type": "address"
        }
      ],
      "name": "NovaDeciderUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "deviceId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "proofId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "withinProximity",
          "type": "bool"
        }
      ],
      "name": "ProximityVerified",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "deviceId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "RewardsClaimed",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "deviceId",
          "type": "bytes32"
        }
      ],
      "name": "claimRewards",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "deviceRewards",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "devices",
      "outputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "internalType": "bool",
          "name": "registered",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "registrationTime",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "lastProximityProof",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getContractBalance",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "deviceId",
          "type": "bytes32"
        }
      ],
      "name": "getDeviceInfo",
      "outputs": [
        {
          "internalType": "address",
          "name": "deviceOwner",
          "type": "address"
        },
        {
          "internalType": "bool",
          "name": "registered",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "registrationTime",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "lastProximityProof",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "pendingRewards",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "novaDecider",
      "outputs": [
        {
          "internalType": "contract IProximityNovaDecider",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "deviceId",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "deviceOwner",
          "type": "address"
        }
      ],
      "name": "registerDevice",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_newDecider",
          "type": "address"
        }
      ],
      "name": "setNovaDecider",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "verifiedProofs",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256[3]",
          "name": "i_z0_zi",
          "type": "uint256[3]"
        },
        {
          "internalType": "uint256[4]",
          "name": "U_i_cmW_U_i_cmE",
          "type": "uint256[4]"
        },
        {
          "internalType": "uint256[2]",
          "name": "u_i_cmW",
          "type": "uint256[2]"
        },
        {
          "internalType": "uint256[3]",
          "name": "cmT_r",
          "type": "uint256[3]"
        },
        {
          "internalType": "uint256[2]",
          "name": "pA",
          "type": "uint256[2]"
        },
        {
          "internalType": "uint256[2][2]",
          "name": "pB",
          "type": "uint256[2][2]"
        },
        {
          "internalType": "uint256[2]",
          "name": "pC",
          "type": "uint256[2]"
        },
        {
          "internalType": "uint256[4]",
          "name": "challenge_W_challenge_E_kzg_evals",
          "type": "uint256[4]"
        },
        {
          "internalType": "uint256[2][2]",
          "name": "kzg_proof",
          "type": "uint256[2][2]"
        },
        {
          "internalType": "bytes32",
          "name": "deviceId",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "proofId",
          "type": "uint256"
        }
      ],
      "name": "verifyDeviceProximity",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "stateMutability": "payable",
      "type": "receive"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50604051610d2f380380610d2f83398101604081905261002f91610062565b60048054336001600160a01b031991821617909155600080549091166001600160a01b0392909216919091179055610092565b60006020828403121561007457600080fd5b81516001600160a01b038116811461008b57600080fd5b9392505050565b610c8e806100a16000396000f3fe6080604052600436106100a05760003560e01c806388e910521161006457806388e910521461020b5780638da5cb5b1461022b5780638e998fe91461024b578063c5c400de14610286578063e10028ab14610302578063fc2022611461032f57600080fd5b80635843802c146100ac57806359d902ed146100e15780636f9fb98a1461019457806373853c1f146101b15780637790ddc6146101e957600080fd5b366100a757005b600080fd5b3480156100b857600080fd5b506100cc6100c7366004610a12565b61034f565b60405190151581526020015b60405180910390f35b3480156100ed57600080fd5b506101626100fc366004610ade565b6000818152600160208181526040808420815160808101835281546001600160a01b038116808352600160a01b90910460ff1615158286018190529583015482850181905260029093015460609092018290529686526003909352932054939491939091565b604080516001600160a01b0390961686529315156020860152928401919091526060830152608082015260a0016100d8565b3480156101a057600080fd5b50475b6040519081526020016100d8565b3480156101bd57600080fd5b506000546101d1906001600160a01b031681565b6040516001600160a01b0390911681526020016100d8565b3480156101f557600080fd5b50610209610204366004610ade565b61057a565b005b34801561021757600080fd5b50610209610226366004610b13565b6107ac565b34801561023757600080fd5b506004546101d1906001600160a01b031681565b34801561025757600080fd5b506100cc610266366004610b35565b600260209081526000928352604080842090915290825290205460ff1681565b34801561029257600080fd5b506102d86102a1366004610ade565b60016020819052600091825260409091208054918101546002909101546001600160a01b03831692600160a01b900460ff16919084565b604080516001600160a01b03909516855292151560208501529183015260608201526080016100d8565b34801561030e57600080fd5b506101a361031d366004610ade565b60036020526000908152604090205481565b34801561033b57600080fd5b5061020961034a366004610b57565b610883565b600082815260016020526040812054600160a01b900460ff166103b15760405162461bcd60e51b815260206004820152601560248201527411195d9a58d9481b9bdd081c9959da5cdd195c9959605a1b60448201526064015b60405180910390fd5b600083815260026020908152604080832085845290915290205460ff16156104145760405162461bcd60e51b8152602060048201526016602482015275141c9bdbd988185b1c9958591e481d995c9a599a595960521b60448201526064016103a8565b60008060009054906101000a90046001600160a01b03166001600160a01b031663fc3d76fa8e8e8e8e8e8e8e8e8e6040518a63ffffffff1660e01b815260040161046699989796959493929190610bad565b602060405180830381865afa92505050801561049f575060408051601f3d908101601f1916820190925261049c91810190610c15565b60015b6104ab575060006104ae565b90505b801561056a5760008481526002602081815260408084208785528252808420805460ff19166001908117909155888552909152822042908201558e906020020135600114905080156105255760008581526003602052604081208054662386f26fc10000929061051f908490610c37565b90915550505b6040805185815242602082015282151581830152905186917f1f4ab61df4468bbe382bf0f98bb579207eb1f2d0ba161c238b51321116494d98919081900360600190a2505b9c9b505050505050505050505050565b600081815260016020526040902054600160a01b900460ff166105d75760405162461bcd60e51b815260206004820152601560248201527411195d9a58d9481b9bdd081c9959da5cdd195c9959605a1b60448201526064016103a8565b6000818152600160205260409020546001600160a01b031633146106305760405162461bcd60e51b815260206004820152601060248201526f2737ba103232bb34b1b29037bbb732b960811b60448201526064016103a8565b600081815260036020526040902054806106825760405162461bcd60e51b81526020600482015260136024820152724e6f207265776172647320746f20636c61696d60681b60448201526064016103a8565b804710156106d25760405162461bcd60e51b815260206004820152601d60248201527f496e73756666696369656e7420636f6e74726163742062616c616e636500000060448201526064016103a8565b60008281526003602052604080822082905551339083908381818185875af1925050503d8060008114610721576040519150601f19603f3d011682016040523d82523d6000602084013e610726565b606091505b50509050806107705760405162461bcd60e51b815260206004820152601660248201527514995dd85c99081d1c985b9cd9995c8819985a5b195960521b60448201526064016103a8565b604051828152339084907ffec539b3c42d74cd492c3ecf7966bf014b327beef98e935cdc3ec5e54a6901c79060200160405180910390a3505050565b6004546001600160a01b031633146107f35760405162461bcd60e51b815260206004820152600a60248201526927b7363c9037bbb732b960b11b60448201526064016103a8565b6001600160a01b03811661083b5760405162461bcd60e51b815260206004820152600f60248201526e496e76616c6964206164647265737360881b60448201526064016103a8565b600080546001600160a01b0319166001600160a01b038316908117825560405190917f9180ffc83b1ce90d12d9ca0bf93c108831ba09891c5de2401c17f814d00a0daf91a250565b600082815260016020526040902054600160a01b900460ff16156108e95760405162461bcd60e51b815260206004820152601960248201527f44657669636520616c726561647920726567697374657265640000000000000060448201526064016103a8565b6001600160a01b0381166109375760405162461bcd60e51b8152602060048201526015602482015274496e76616c6964206f776e6572206164647265737360581b60448201526064016103a8565b604080516080810182526001600160a01b0380841680835260016020808501828152428688019081526000606088018181528b8252938590528881209751885493511515600160a01b026001600160a81b03199094169716969096179190911786555191850191909155516002909301929092559151909184917fd87fed90c1b7378fc9b09cc6f641d001f9d1fdf09b533c90195d4204209d4b839190a35050565b80606081018310156109ea57600080fd5b92915050565b80608081018310156109ea57600080fd5b80604081018310156109ea57600080fd5b60008060008060008060008060008060006103c08c8e031215610a3457600080fd5b610a3e8d8d6109d9565b9a50610a4d8d60608e016109f0565b9950610a5c8d60e08e01610a01565b9850610a6c8d6101208e016109d9565b9750610a7c8d6101808e01610a01565b9650610a8c8d6101c08e016109f0565b9550610a9c8d6102408e01610a01565b9450610aac8d6102808e016109f0565b9350610abc8d6103008e016109f0565b92506103808c013591506103a08c013590509295989b509295989b9093969950565b600060208284031215610af057600080fd5b5035919050565b80356001600160a01b0381168114610b0e57600080fd5b919050565b600060208284031215610b2557600080fd5b610b2e82610af7565b9392505050565b60008060408385031215610b4857600080fd5b50508035926020909101359150565b60008060408385031215610b6a57600080fd5b82359150610b7a60208401610af7565b90509250929050565b8060005b6002811015610ba757604080838637938401939190910190600101610b87565b50505050565b610380810160608b833760808a606084013760408960e0840137606088610120840137604087610180840137610be76101c0830187610b83565b604085610240840137608084610280840137610c07610300830184610b83565b9a9950505050505050505050565b600060208284031215610c2757600080fd5b81518015158114610b2e57600080fd5b808201808211156109ea57634e487b7160e01b600052601160045260246000fdfea2646970667358221220e7cf74145c59cfad2731798e0645c094c0d9d2664cfa4de1b1090d07602ff58764736f6c63430008130033",
  "deployedBytecode": "0x6080604052600436106100a05760003560e01c806388e910521161006457806388e910521461020b5780638da5cb5b1461022b5780638e998fe91461024b578063c5c400de14610286578063e10028ab14610302578063fc2022611461032f57600080fd5b80635843802c146100ac57806359d902ed146100e15780636f9fb98a1461019457806373853c1f146101b15780637790ddc6146101e957600080fd5b366100a757005b600080fd5b3480156100b857600080fd5b506100cc6100c7366004610a12565b61034f565b60405190151581526020015b60405180910390f35b3480156100ed57600080fd5b506101626100fc366004610ade565b6000818152600160208181526040808420815160808101835281546001600160a01b038116808352600160a01b90910460ff1615158286018190529583015482850181905260029093015460609092018290529686526003909352932054939491939091565b604080516001600160a01b0390961686529315156020860152928401919091526060830152608082015260a0016100d8565b3480156101a057600080fd5b50475b6040519081526020016100d8565b3480156101bd57600080fd5b506000546101d1906001600160a01b031681565b6040516001600160a01b0390911681526020016100d8565b3480156101f557600080fd5b50610209610204366004610ade565b61057a565b005b34801561021757600080fd5b50610209610226366004610b13565b6107ac565b34801561023757600080fd5b506004546101d1906001600160a01b031681565b34801561025757600080fd5b506100cc610266366004610b35565b600260209081526000928352604080842090915290825290205460ff1681565b34801561029257600080fd5b506102d86102a1366004610ade565b60016020819052600091825260409091208054918101546002909101546001600160a01b03831692600160a01b900460ff16919084565b604080516001600160a01b03909516855292151560208501529183015260608201526080016100d8565b34801561030e57600080fd5b506101a361031d366004610ade565b60036020526000908152604090205481565b34801561033b57600080fd5b5061020961034a366004610b57565b610883565b600082815260016020526040812054600160a01b900460ff166103b15760405162461bcd60e51b815260206004820152601560248201527411195d9a58d9481b9bdd081c9959da5cdd195c9959605a1b60448201526064015b60405180910390fd5b600083815260026020908152604080832085845290915290205460ff16156104145760405162461bcd60e51b8152602060048201526016602482015275141c9bdbd988185b1c9958591e481d995c9a599a595960521b60448201526064016103a8565b60008060009054906101000a90046001600160a01b03166001600160a01b031663fc3d76fa8e8e8e8e8e8e8e8e8e6040518a63ffffffff1660e01b815260040161046699989796959493929190610bad565b602060405180830381865afa92505050801561049f575060408051601f3d908101601f1916820190925261049c91810190610c15565b60015b6104ab575060006104ae565b90505b801561056a5760008481526002602081815260408084208785528252808420805460ff19166001908117909155888552909152822042908201558e906020020135600114905080156105255760008581526003602052604081208054662386f26fc10000929061051f908490610c37565b90915550505b6040805185815242602082015282151581830152905186917f1f4ab61df4468bbe382bf0f98bb579207eb1f2d0ba161c238b51321116494d98919081900360600190a2505b9c9b505050505050505050505050565b600081815260016020526040902054600160a01b900460ff166105d75760405162461bcd60e51b815260206004820152601560248201527411195d9a58d9481b9bdd081c9959da5cdd195c9959605a1b60448201526064016103a8565b6000818152600160205260409020546001600160a01b031633146106305760405162461bcd60e51b815260206004820152601060248201526f2737ba103232bb34b1b29037bbb732b960811b60448201526064016103a8565b600081815260036020526040902054806106825760405162461bcd60e51b81526020600482015260136024820152724e6f207265776172647320746f20636c61696d60681b60448201526064016103a8565b804710156106d25760405162461bcd60e51b815260206004820152601d60248201527f496e73756666696369656e7420636f6e74726163742062616c616e636500000060448201526064016103a8565b60008281526003602052604080822082905551339083908381818185875af1925050503d8060008114610721576040519150601f19603f3d011682016040523d82523d6000602084013e610726565b606091505b50509050806107705760405162461bcd60e51b815260206004820152601660248201527514995dd85c99081d1c985b9cd9995c8819985a5b195960521b60448201526064016103a8565b604051828152339084907ffec539b3c42d74cd492c3ecf7966bf014b327beef98e935cdc3ec5e54a6901c79060200160405180910390a3505050565b6004546001600160a01b031633146107f35760405162461bcd60e51b815260206004820152600a60248201526927b7363c9037bbb732b960b11b60448201526064016103a8565b6001600160a01b03811661083b5760405162461bcd60e51b815260206004820152600f60248201526e496e76616c6964206164647265737360881b60448201526064016103a8565b600080546001600160a01b0319166001600160a01b038316908117825560405190917f9180ffc83b1ce90d12d9ca0bf93c108831ba09891c5de2401c17f814d00a0daf91a250565b600082815260016020526040902054600160a01b900460ff16156108e95760405162461bcd60e51b815260206004820152601960248201527f44657669636520616c726561647920726567697374657265640000000000000060448201526064016103a8565b6001600160a01b0381166109375760405162461bcd60e51b8152602060048201526015602482015274496e76616c6964206f776e6572206164647265737360581b60448201526064016103a8565b604080516080810182526001600160a01b0380841680835260016020808501828152428688019081526000606088018181528b8252938590528881209751885493511515600160a01b026001600160a81b03199094169716969096179190911786555191850191909155516002909301929092559151909184917fd87fed90c1b7378fc9b09cc6f641d001f9d1fdf09b533c90195d4204209d4b839190a35050565b80606081018310156109ea57600080fd5b92915050565b80608081018310156109ea57600080fd5b80604081018310156109ea57600080fd5b60008060008060008060008060008060006103c08c8e031215610a3457600080fd5b610a3e8d8d6109d9565b9a50610a4d8d60608e016109f0565b9950610a5c8d60e08e01610a01565b9850610a6c8d6101208e016109d9565b9750610a7c8d6101808e01610a01565b9650610a8c8d6101c08e016109f0565b9550610a9c8d6102408e01610a01565b9450610aac8d6102808e016109f0565b9350610abc8d6103008e016109f0565b92506103808c013591506103a08c013590509295989b509295989b9093969950565b600060208284031215610af057600080fd5b5035919050565b80356001600160a01b0381168114610b0e57600080fd5b919050565b600060208284031215610b2557600080fd5b610b2e82610af7565b9392505050565b60008060408385031215610b4857600080fd5b50508035926020909101359150565b60008060408385031215610b6a57600080fd5b82359150610b7a60208401610af7565b90509250929050565b8060005b6002811015610ba757604080838637938401939190910190600101610b87565b50505050565b610380810160608b833760808a606084013760408960e0840137606088610120840137604087610180840137610be76101c0830187610b83565b604085610240840137608084610280840137610c07610300830184610b83565b9a9950505050505050505050565b600060208284031215610c2757600080fd5b81518015158114610b2e57600080fd5b808201808211156109ea57634e487b7160e01b600052601160045260246000fdfea2646970667358221220e7cf74145c59cfad2731798e0645c094c0d9d2664cfa4de1b1090d07602ff58764736f6c63430008130033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
